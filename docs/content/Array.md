---
icon: material/code-array
---

### آرایه چیست؟

شما تا الان تعریف متغیر ها رو یاد گرفتید و با تایپ های مختلف مثل `...int, double, float` آشنا هستین.
<br>
مسئله محاسبه میانگین نمرات یک دانشجو رو در نظر بگیرید. با فرض این که دانشجو در  ترم مورد نظر ۶ درس برداشته. با استفاده از
متغیرها، کد این مسئله به فرم زیر در میاد.
<br>

```cpp linenums="1"
int Score1, Score2, Score3, Score4, Score5, Score6;
cin >> Score1 >> Score2 >> Score3 >> Score4 >> Score5 >> Score6;
double Mid = (Score1 + Score2 + Score3 + Score4 + Score5 + Score6) / 6;
cout << Mid;
```

همونطور که می بینید این کار جلوه خوبی نداره و همچنین اگر ورودی ها بیشتر بشه کار سخت تر یا حتی نا ممکن میشه.

در اینحا برای ذخیره سازی داده ها از یک ساختار به اسم **آرایه** استفاده می کنیم.

<b>آرایه در زبان ++C مجموعه‌ای از عناصر از نوع یکسان را ذخیره می‌کند.</b>

---

### پیاده سازی آرایه

برای پیاده سازی آرایه باید نوع داده هایی که میخوایم ذخیره کنیم به همراه اسم آرایه به همراه تعداد عضو های مورد نظر رو بنویسیم.

```cpp linenums="1"
DATA_TYPE arrayName[SIZE_OF_ARRAY];
```

حالا برای نحوه تعریف آرایه برای مثال بالا درمورد نمرات دانشجو خواهیم داشت:

```cpp linenums="1"
int Scores[6];
```

حالا دقیقا مثل کد بالا انگار همون ۶ تا داده از نوع `int` داریم صرفا منظم تر و جمع و جور تر در یک ساختار خاص.

---

### نحوه مقداردهی اولیه به آرایه

شما میتونین همون موقع که آرایه رو تعریف میکنین به خونه هاش مقدار اولیه بدین.

```cpp linenums="1"
int balance[6] = {2, 4, 8, 12, 16, 18};
```

![Array](../assets/ArraysinC.png)

همونطور که توی عکس میبینین مقادیر آرایه و شماره خونه های آرایه (indexes) رو مشخص کرده.
نکته ای که وجود داره اینه که آرایه صفر بیس هستش (1).
{ .annotate }

1. یعنی اینکه شماره index ها از صفر شروع میشه همونطور که توی عکس میبینین
    و مثل این میمونه که اینجوری تعریف کنیم 6 تا `int` رو:
    ```cpp linenums="1"
    int balance0, balance1, balance2, balance3, balance4, balance5;
    ```

یه راه دیگه اینه که میتونین بعد از تعریف آرایه هم به خونه هاش مقدار بدین.

```cpp linenums="1"
int balance[6];
balance[0] = 2;
balance[1] = 4;
balance[2] = 8;
balance[3] = 12;
balance[4] = 16;
balance[5] = 18;
// وقتی مینویسیم
// balance[i]
// میخوایم خونه 
// [i]
// رو باهاش یک عملیاتی انجام بدیم یا یک مقداری بهش نسبت بدیم
```


به عبارتی داریم با هر کدوم از خونه ها مثل یک `int` عادی رفتار میکنیم (1).
{ .annotate }

1. میتونیم عملیات های دیگه ای که در گذشته روی `int` انجام میدادیم انجام بدیم.
    ```cpp linenums="1"
    balance[2] += 5;
    balance[3] = balance[2] * 7;
    balance[4] = balance[0] / balance[5];
    ```

---

### پیاده سازی مسئله مطرح شده با آرایه

حالا بیاین مسئله ای که برای معدل دانشجو گفته شد رو با آرایه ها پیاده سازی کنیم.

```cpp linenums="1"
int Score[6];
// به صفر بیس بودن آرایه دقت کنید.
cin >> Score[0] >> Score[1] >> Score[2] >> Score[3] >> Score[4] >> Score[5];
double Mid = (Score[0] + Score[1] + Score[2] + Score[3] + Score[4] + Score[5]) / 6;
cout << Mid;
```

!!! tip "نکته"
    اما قدرت واقعی آرایه ها وقتی نمایان میشه که با حلقه ها ترکیب بشن.

    به عنوان مثال کد بالا معادل با کد زیر میشه. حتی می تونیم تعداد دروس رو به عنوان ورودی دریافت کنیم.

    ```cpp linenums="1"
    int Score[6];
    for (int i = 0; i < 6; i++) {
        cin >> arr[i];
    }

    double sum = 0; 
    for (int i = 0; i < 6; i++) {
        sum += arr[i];
    }

    cout << sum / 6 << endl;
    ```

!!! warning "اشتباه رایج"
    خیلی وقت ها برنامه نویس ها حواسشون نیست و مقدار اولیه نمیدن به یک خونه ای از آرایه و باهاش کار میکنن.<br>
    سوالی که ممکنه پیش بیاد اینه که اگه مقدار اولیه ندیم به آرایه پس واقعا چی اونجا ذخیره شده در حالت اولیه؟
    <br>

    ```cpp linenums="1"
    int Arr[3];
    cout << Arr[2];
    ```

    بنظرتون خروجی کد بالا چیه؟

    جوابش واضح نیست چون سیستم بهتون یه مقدار غیر قابل پیش بینی میده و دلیلش هم اینه چون اون خونه از آرایه هنوز هیچی بهش assign نشده مقداری که در گذشته اونجا بوده و توسط ram ازش استفاده میشده توی پردازش های سیستمی بهتون خروجی داده میشه.

    که این دقیقا برای این حالت هم برقراره:

    ```cpp linenums="1"
    int x;
    cout << x;
    ```

    تو حالت عادی هم وقتی `int` تعریف کنین و بهش مقدار اولیه ندین سیستم بهتون یه چیز غیر قابل پیش بینی خروجی میده.

مثال های دیگه ای هم برای آرایه میشه زد با تایپ های دیگه (لزوما قرار نیست `int` باشه):

```cpp linenums="1"
double Db[3] = {1.2, -3.8888, 0.0001};
cout << Db[0]; // 1.2
cout << Db[2]; // 0.0001
```

```cpp linenums="1"
string St[3];
St[2] = "Iliya";
St[0] = "Soroush";
cout << St[0]; // Soroush
cout << St[2]; // Iliya
```

---

### 2D Arrays

آرایه 2 بعدی هم میشه تعریف کرد به این شکل که شبیه جدول خواهد بود:

```cpp linenums="1"
DATA_TYPE arrayName[SIZE_OF_ROWS][SIZE_OF_COLUMNS];
```

![2D ARRAY](../assets/2DArr.png)

<b>همونطور که توی عکس میبینید هم سطر ها هم ستون ها صفر بیس هستن.</b>


!!! note "For loop on 2D Array"
    شما هر وقت خواستین فور بزنید بر روی آرایه دو بعدی میتونین به این شکل بزنید:

    ```cpp linenums="1"
    int A[2][3] = {
        {1, 2, 3},
        {4, 5, 6}
    }; // (1)!

    for (int i = 0; i < 2; i++){
        for (int j = 0; j < 3; j++){
            cout << A[i][j] << ' ';
        }
        cout << endl; // (2)!
    } // (3)!

    // output:
    // 1 2 3
    // 4 5 6
    ```

    1. نحوه مقدار اولیه دادن به آرایه دو بعدی بدین شکل هست.

    2. بعد خروجی دادن هر سطر به طور کامل میریم خط بعدی توی ترمینال تا سطر ها پشت سر هم خروجی داده نشن.

    3. اول یک سطر `i` فیکس میکنیم با `loop` اول و بعدش روی ستون های سطر `i` حرکت میکنیم با `loop` دوم.

    یا به این شکل:

    ```cpp linenums="1"
    int A[2][3] = {
        {1, 2, 3},
        {4, 5, 6}
    };

    for (int j = 0; j < 3; j++){
        for (int i = 0; i < 2; i++){
            cout << A[i][j] << ' ';
        }
        cout << endl;
    } // (1)!
    // output:
    // 1 4
    // 2 5
    // 3 6
    ```

    1. اول ستون رو فیکس میکنیم و بعد روی سطر هاش حرکت میکنیم.

    یا به این شکل:

    ```cpp linenums="1"
    int A[2][3] = {
        {1, 2, 3},
        {4, 5, 6}
    };

    for (int j = 2; j >= 0; j--){
        for (int i = 0; i < 2; i++){
            cout << A[i][j] << ' ';
        }
        cout << endl;
    } // (1)!
    // output:
    // 3 6
    // 2 5
    // 1 4
    ```

    1. اول ستون هارو از ته شروع میکنیم فیکس کنیم و بعد روی سطر های ستون فعلی حرکت میکنیم.

    یا به بی شمار حالت دیگه که بسته به نیازتون میتونین پیاده سازی کنین.

از `DATA_TYPE` های متنوعی میتونین استفاده کنین و اونقدر محدودیتی ندارین.

```cpp linenums="1"
string A[2][2] = {
    {"Iliya", "Sanaz"},
    {"Alex", "Soroush"}
};

vector<double> Arr[2][2] = { // (1)!
    {{1.0, 9.11}, {1.2, 0.0001, 7.99, -12.06}},
    {{}, {-99991.2345}}
}; // (2)!
```

1. [در این بخش](vector.md) درمورد vector میتونید بخونید.

2. یک آرایه دو بعدی هستش که هر خونه اش یک `vector` مجزا به حساب میاد که میتونین به تعداد دلخواه عدد به هر وکتور خونه های آرایه اختصاص بدین و لزوما قرار نیست که سایز وکتور ها باهم برابر باشن.

> به همین ترتیب شما میتونید آرایه های `...3,4,5` بعدی تعریف کنید ولی تصور کردنشون بسیار سخت یا غیر ممکن خواهد بود.
در [اینجا](https://www.geeksforgeeks.org/cpp/cpp-multidimensional-array/) اطلاعات بیشتری میتونید کسب کنید.
