---
icon: material/function-variant
---

### تابع چیست؟

به طور خلاصه یک تابع گروهی از دستوراته که با هم یک کار رو روی یک تعداد ورودی خاص انجام میدن.به عنوان مثال:

- $y = x^2 - 5x + 3$
- $y = \sin(x)$

ما یک ورودی $x$ داریم و یک سری عملیات های خاص روش انجام میشه و تبدیل میشه به مقدار $y$ و اون رو به عنوان خروجی میبینیم.

> به عنوان مثال برای تابع اول ورودی $x$ رو یک بار به توان 2 میرسونیم و یک بار ضربدر 5- میکنیم و این دو مقدار رو با 3 جمع میکنیم و در خروجی نشون میدیم.

---

### نحوه تعریف تابع در کد
به طور کلی به این شکل ما در ++C تابع رو تعریف میکنیم:
```cpp linenums="1"
return_type function_name( parameter list ) {
   body of the function
}
```

!!! توضیحات
    - <b>Return Type</b> <br>
        این بخش نوع متغیر خروجی تابع رو مشخص میکنه که از نوع `...string, int, double, float` باشه. <br>
        برای مثال در توابع سینوس و دو جمله ای بالا خروجی تابع یک متغیر اعشاری خواهد بود که در نتیجه باید از تایپ های `float` یا `double` استفاده کنیم <br>
        نکته ای که حائز اهمیته اینه که ما ممکنه بخوایم یک تابعی داشته باشیم که عملیاتی برامون انجام بده ولی خروجی نداشته باشه که اون وقت از تایپ <b>`void`</b> استفاده میکنیم.
    - <b>Function Name</b> <br>
        در اینجا باید اسم تابع رو انتخاب کنیم که باید خاص باشه و تابع دیگه ای با این اسم تعریف نشده باشه قبلا (حواستون باشه حتی متغیر و آرایه ای با این اسم هم نباید تعریف شده باشه و کلا هرچیزی همچون متغیر و آرایه و تابع تعریف میکنید باید اسم مخصوص خودش رو داشته باشه و خاص باشه) <br>
    - <b>Parameters</b> <br>
        در اینجا شما پارامتر های ورودی تابع رو تعریف میکنید که چیا هستن داخل پرانتز جلوی اسم تابع. برای مثال در توابعی که بالا تعریف کردیم پارامتر ورودی $x$ هستش فقط (پارامتر ها میتونن 2 تا یا بیشتر باشن و نیازی نیست که لزوما `int` یا حتی همشون از یک تایپ باشن و شما میتونین چند پارامتر با تایپ های متفاوت بدین به تابع).
    - <b>Function Body</b> <br>
        در اینجا هم عملیات های مورد نظرتون رو پیاده سازی میکنین که روی ورودی های تابع انجام بشه.
    - <b>Braces</b> <br>
        یادتون باشه که باید اول و آخر تابع رو مثل loop ها با آکولاد باز و بسته مشخص کنین.

<b>دقت کنید که سمیکالن جلوی اسم تابع و پارامتر ها قرار نمیگیره!</b>

---

#### مثال 1

بیاین تابع دو جمله ای $y = x^2 - 5x + 3$ رو توی کد پیاده سازی کنیم.


=== "First Code"

    ```cpp linenums="1"
    double Binomial_Function(double x) {
        double power2 = x * x;
        double multiply5 = 5 * x;
        double answer = power2 - multiply5 + 3;
        return answer; // (1)!
    }
    ```

    1. چون تایپ تابع رو `double` گذاشتیم داریم به کامپایلر میگیم که این تابع قراره یه `double` برگردونه پس وقتی که Function Body تموم شد با این دستور مقدار مورد نظر رو برمیگردونیم.

=== "Second Code" 

    ```cpp linenums="1"
    double Binomial_Function(double x) {
        double power2 = x * x;
        double multiply5 = 5 * x;
        return power2 - multiply5 + 3; // (1)!
    }
    ```

    1. همونطور که میبینین لزومی نداره یک متغیر واحد رو لزوما `return` کنیم و میشه یک عبارتی از متغیر ها باشه.

=== "Third Code"

    ```cpp linenums="1"
    double Binomial_Function(double x) {
        return x * x - 5 * x + 3; // (1)!
    }
    ```

    1. یا حتی میتونه به این شکل باشه و اصلا متغیری تعریف نکنیم داخل تابع :smile:

و خب همونطور که میبینین این سه کد جفتشون یک حالت پیاده سازی تابع دو جمله ای ما بودن و کلی حالت مختلف دیگه هم برای پیاده سازی اش وجود داره که خودتون میتونین بهش فکر کنین.

!!!tip "نکته"
    همه کد ها یک تابع `main` اول کار دارن که خودتون هم دیدین.
    ```cpp linenums="1"
    int main() {
        return 0;
    }
    ```
    شاید بپرسین چرا تایپ تابع `main` باید `int` باشه. <br>
    همونطور که میبینین تابع `return 0` داره و یک `int` برمیگردونه.

حالا بریم ببینیم چطور از تابع استفاده میکنیم.

```cpp linenums="1"
#include <iostream>
using namespace std;

double Binomial_Function(double x) {
    return x * x - 5 * x + 3;
}

int main() {
    double x = Binomial_Function(15.71); // x = (15.71)^2 - 5*(15.71) + 3
    double y = -11.93;
    cout << Binomial_Function(y); // (-11.93)^2 - 5*(-11.93) + 3 -> خروجی ما خواهد بود
    return 0;
}
```

همونطور که میبینین به عنوان یک `double` (یا به طور کلی تایپی که برای تابع مشخص کردیم) میشه باهاش رفتار کرد تا وقتی که ورودی های تابع به درستی داده شده باشن.

!!!warning "توجه"
    همونطور که خودتون میبینین تابع `Binomial_Function` رو خارج از تابع `main` تعریف کردیم و درکل نمیشه دوتا تابع رو داخل هم تعریف کرد با دانش فعلی شما.

    ```cpp linenums="1"
    #include <iostream>
    using namespace std;

    int main() {
        double Binomial_Function(double x) {
            return x * x - 5 * x + 3;
        }

        double x = Binomial_Function(15.71);
        double y = -11.93;
        cout << Binomial_Function(y); // (-11.93)^2 - 5*(-11.93) + 3 -> خروجی ما خواهد بود
        return 0;
    }
    ```

    این کد اشتباه هستش!!!

    ```cpp linenums="1"
    #include <iostream>
    using namespace std;

    double Binomial_Function(double x) {
        double sin(double x2) {
            //Function Body
        }
        return x * x - 5 * x + 3;
    }

    int main() {

        double x = Binomial_Function(15.71);
        double y = -11.93;
        cout << Binomial_Function(y); // (-11.93)^2 - 5*(-11.93) + 3 -> خروجی ما خواهد بود
        return 0;
    }
    ```

    این هم همینطور!!!

---

#### مثال 2

یک تابع میخوایم تعریف کنیم که سه عدد صحیح رو بگیره و باهم جمعشون کنه.

```cpp linenums="1"
#include <iostream>
using namespace std;

int Add(int x, int y, int z) {// (1)!  
    return x + y + z;
}

int main() {
    cout << Add(3, 4, 5); // (2)!
    cout << Add(-11, 2, 0); // -9
    int y = 5;
    int Answer = Add(y, -123, 12); // (3)!
    cout << Answer; // -106
    return 0;
}
```

1. همونطور که گفته شد سه عدد صحیح میگیره تابع پس ما ورودی هارو با تایپ `int` مشخص کردیم. جمع سه عدد صحیح هم صحیح هستش پس خروجی هم صحیح خواهد بود. پس بدین ترتیب تایپ تابع هم `int` خواهد شد.

2. نکته ای که وجود داره اینه از چپ به راست که شما ورودی های تابع رو اینجا میدین هر کدوم به ترتیب میرن به متغیر معادلشون توی ورودی های تابعی که بالا تعریف کردیم (اولی به اولی دومی به دومی و...) <br>

3. شاید بپرسین اینجا متغیر `y` پاس داده شده به متغیر `x` که معادلش هست توی پارامتر های تابع این مشکل ایجاد نمیکنه؟ <br>
بحث این هست که مهم نیست اسم متغیر چیه چون وقتی ما `y` رو نوشتیم در اصل منظورمون مقداری هستش که متغیر `y` درون خودش ذخیره کرده نه که خود متغیر `y`. <br>


    === "First"

        ```cpp linenums="1"
        int y = 5;
        int Answer = Add(y, -123, 12);
        ```

    === "Second"

        ```cpp linenums="1"
        int Answer = Add(5, -123, 12);
        ```
    این یعنی این دو تیکه کد هیچ فرقی باهم ندارن :fontawesome-regular-smile-beam:


<b>برای عبارت Add(3, 4, 5) داریم:</b>

| متغیر های درون تابع      | مقادیری که به آنها نسبت داده میشه                          |
| ----------- | ------------------------------------ |
| `x`       |       3  |
| `y`       |       4 |
| `z`    |      5 |


در اینجا تابع با فرض `x = 3` و `y = 4` و `z = 5` شروع میکنه به انجام عملیات هایی که درونش تعریف شده. <br>
عملیات های درون تابع رو انجام داده میشه و در نهایت خروجی `return` میشه داخل تابع `main` که صداش کردیم. در اینجا اون خروجی قراره `x + y + z` باشه که میشه 3 + 4 + 5 که یعنی خروجی 12 خواهد شد.

---

#### مثال 3

یک تابع میخوایم بنویسیم که مقدار اولیه صفر رو بزاره توی خونه های یک آرایه (همونطور که در بخش آرایه ها گفته شد بعد از تعریف آرایه خونه هاش مقدار مشخصی ندارن).

```cpp linenums="1"
#include <iostream>
using namespace std;

int Arr[10];

void Set_Value_Zero() {// (1)!  
    for (int i = 0; i < 10; i++) {
        Arr[i] = 0;
    }
    return; // (2)!
}

int main() {
    Set_Value_Zero();
    cout << Arr[3]; // 0
    return 0;
}
```

1. این تابع قراره یک عملیات برای ما انجام بده که اون مقدار دهی صفر به خونه های آرایه `Arr` هستش و خروجی قرار نیست برگردونه. همونطور که توضیح دادم این نوع تابع هارو که خروجی برنمیگردونن با تایپی به اسم `void` نام گذاری میکنیم. <br>
و نکته دیگه ای هم که وجود داره اینه که تعداد ورودی های تابع صفره و هیچ ورودی نمیگیره و این هیچ ایرادی نداره.

2. فرمت `return` توابعی که تایپشون `void` هستش به این شکله که هیچی جلوش نمینویسیم و همین `return` خالی رو میزاریم وقتی کارمون تموم شد.

!!!warning "اخطار"
    اگر کد رو به این شکل بنویسین غلط خواهد بود:

    ```cpp linenums="1"
    #include <iostream>
    using namespace std;

    void Set_Value_Zero() {
        for (int i = 0; i < 10; i++) {
            Arr[i] = 0;
        }
        return;
    }

    int Arr[10]; // مشکل کد اینجاس که بعد از تابع تعریف شده

    int main() {
        Set_Value_Zero();
        cout << Arr[3]; // 0
        return 0;
    }
    ```

    به این دلیل که قبلا هم گفته شد کامپایلر شروع میکنه خط به خط از خط ۱ به پایین میخونه کد شمارو و در اینجا اول به تابع میرسه و توی بدنه تابع از اسم `Arr` استفاده کردین که در خط های قبلی برای کامپایلر تعریف نشده.

---

#### مثال 4

یک تابع میخوایم بنویسیم که یک رشته (string) و یک عدد از کاربر میگیریم و به تعداد اون عدد رشته رو زیر هم خروجی میدیم.

```cpp linenums="1"
#include <iostream>
using namespace std;

void Output_Answer(int n, string S) { // (1)!  
    for (int i = 0; i < n; i++) {
        cout << S << '\n'; // (2)!
    }
    return;
}

int main() {
    string S;
    int n;
    cin >> n >> S;
    Output_Answer(n, S); // (3)!
    return 0;
}
```

1. همونطور که میبینین تایپ دو متغیر متفاوته و این کاملا اوکیه که متغیر هایی با تایپ های متفاوت تعریف بشه و از اونجایی که یک عملیات برامون انجام میده که خروجی نخواهد داشت پس تابع رو `void` تعریف کردیم.

2. داخل تابعی جز تابع `main` هم میتونین `cout` داشته باشین و توی ترمینال نتیجه رو بهتون نشون خواهد داد بازهم.

3. همونطور که قبلا هم گفتم, مقدار این متغیر ها به تابع پاس داده میشن نه خود اسم متغیر ها پس مهم نیست که اسم های اینجا با اسم متغیر های تابع یکی باشن ولی خب اینجا من یکی تعریف کردم و مشکلی هم نداره.

!!!tip "نکته"
    شما میتونین مقدار اولیه هم به پارامتر های تابع بدین: (Default Value)

    ```cpp linenums="1"
    #include <iostream>
    using namespace std;

    void Output_Answer(int n, string S = "Kambiz") { // (1)!  
        for (int i = 0; i < n; i++) {
            cout << S << '\n';
        }
        return;
    }

    int main() {
        int n;
        cin >> n;
        Output_Answer(n); // (2)!
        Output_Answer(n, "Soroush"); // (3)!
        return 0;
    }
    ```

    1. یک Default Value به `string S` دادیم.
    2. در اینجا چون برای متغیر دوم تابع که `S` باشه چیزی فرستاده نشده تابع میاد همون Default Value رو براش در نظر میگیره و `n` بار `Kambiz` رو خروجی میده.
    3. اینجا چون متغیر دوم هم بهش مقدار نسبت داده شده که اون `"Soroush"` هست پس `S` رو همین `"Soroush"` در نظر میگیره و `n` بار `Soroush` خروجی میده.

!!!warning "اخطار"
    اگه به صورت زیر بخواین Default Value مشخص کنین به خطای کامپایل مواجه میشین ❌

    ```cpp linenums="1"
    #include <iostream>
    using namespace std;

    void Output_Answer(int n = 10, string S) { // (1)!  
        for (int i = 0; i < n; i++) {
            cout << S << '\n';
        }
        return;
    }

    int main() {
        string Str;
        cin >> Str;
        Output_Answer(Str); // (2)!
        return 0;
    }
    ```

    1. برای n اومدیم Default Value تعریف کردیم.
    2. در اینجا وقتی فقط یک مقدار فرستاده شده به تابع میاد و به اولین متغیر از سمت چپ تابع assign اش میکنه یعنی عملا میخواد `n = Str` این کار رو بکنه و با خطای کامپایل مواجه میشه.

    راه حل چیه ؟ ✅

    ```cpp linenums="1"
    #include <iostream>
    using namespace std;

    void Output_Answer(string S, int n = 10) { // (1)!  
        for (int i = 0; i < n; i++) {
            cout << S << '\n';
        }
        return;
    }

    int main() {
        string Str;
        cin >> Str;
        Output_Answer(Str);
        return 0;
    }
    ```

    1. خیلی شیک و تمیز اومدیم جای دوتا متغیر رو عوض کردیم و حالا `Str` با `S` مچ میشه و مشکلی هم نداریم.

    این هم مثالیه که بخوایم 10 بار اسمی که کاربر بهمون میده رو خروجی بدیم و طبیعتا میشه این رو خیلی ساده تر با یک `for` ساده توی تابع `main` نوشت ولی این مطالب برای یادگیری عمیق تر تابع بیان میشن. <br>
    مثال با یک `for` عادی:

    ```cpp linenums="1"
    #include <iostream>
    using namespace std;

    int main() {
        string Str;
        cin >> Str;
        for (int i = 0; i < 10; i++) {
            cout << Str << '\n';
        }
        return 0;
    }
    ```


!!!example "یه چیز جالب"
    شما میتونین به این شکل هم بنویسید کدتون رو:

    ```cpp linenums="1"
    #include <iostream>
    using namespace std;

    void Output_Answer(int n, string S); // (1)!

    int main() {
        string S;
        int n;
        cin >> n >> S;
        Output_Answer(n, S);
        return 0;
    }

    void Output_Answer(int n, string S) {
        for (int i = 0; i < n; i++) {
            cout << S << '\n';
        }
        return;
    }
    ```

    1. کد تابع رو پایین تابع `main` نوشتیم ولی چون توی `main` این تابع صدا زده شده باید قبلش تعریف شده باشه (طبق قاعده از بالا به پایین خوندن کامپایلر) پس این خط رو بالای `main` مینویسیم به این معنی که به کامپایلر بگیم: نگران نباش همچین تابعی وجود داره و خطا نده. <br>
    دقت کنید که ته این خط سمیکالن داریم!

    این نحوه تعریف توابع بیشتر برای وقت های مناسب هستش که دوتا تابع داریم که هر کدوم توی اون یکی صدا زده شدن و خب چون یکیشون حتما بالای اون یکی تعریف شده با این روش میتونیم از خطای کامپایل جلوگیری کنیم.
